(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{274:function(e,t,r){},275:function(e,t,r){},276:function(e,t,r){"use strict";r.r(t);var n=r(0),a=r.n(n),c=r(25),s=r.n(c),i=r(18),o=r(382),l=r(9),d=r(22),u=r(359),j=r(360),p=r(357),h=r(207),b=r(399),O=r(361),x=r(362),m=r(354),f=r(30),g=r(386),v=r(398),y=r(358),S=r(1),w=Object(m.a)((function(e){return{root:{display:"flex",borderRadius:e.shape.borderRadius,backgroundColor:"#fff",boxShadow:"0 0 3px 1px rgba(0, 0, 0, 0.1)",width:"100%"},input:{marginLeft:e.spacing(2),flex:1,fontSize:"1rem"},iconButton:{padding:e.spacing(1),backgroundColor:"grey",color:"#fff","&:hover":{backgroundColor:"black"}}}}));var I=function(){var e=w(),t=Object(n.useState)(""),r=Object(l.a)(t,2),a=r[0],c=r[1],s=Object(f.useHistory)();return Object(S.jsxs)(g.a,{component:"form",onSubmit:function(e){e.preventDefault(),s.push("/?keyword=".concat(a,"&page=1"))},className:e.root,children:[Object(S.jsx)(v.a,{placeholder:"Search with title",className:e.input,value:a,onChange:function(e){return c(e.target.value)}}),Object(S.jsx)(p.a,{type:"submit",className:e.iconButton,"aria-label":"search",children:Object(S.jsx)(y.a,{})})]})},k=r.p+"static/media/logo2.c11f575e.png",C=r(10),P=r.n(C),D=r(20),R=r(63),L=r(54),N=r(52),F=r(57),z=r(36),A=r.n(z),T=new(function(){function e(){Object(N.a)(this,e)}return Object(F.a)(e,[{key:"getUserDetails",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r,n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("userInfo")).token,r={headers:{Authorization:"Bearer ".concat(t)}},e.next=5,A.a.get("/api/users/",r);case 5:return n=e.sent,a=n.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"createUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r,n){var a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a={headers:{"Content-Type":"application/json"}},e.next=4,A.a.post("/api/users/register/",{name:t,email:r,password:n},a);case 4:return c=e.sent,s=c.data,e.abrupt("return",s);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,r,n){return e.apply(this,arguments)}}()},{key:"updateUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{Authorization:"Bearer ".concat(n)}},e.next=5,A.a.put("/api/users/profile/update/",r,a);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"deleteUser",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{Authorization:"Bearer ".concat(r)}},e.next=5,A.a.delete("/api/users/delete/".concat(t,"/"),n);case 5:e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.post("/api/users/login/",{username:t,password:r});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}()}]),e}()),U=localStorage.getItem("userInfo"),E={userDetails:U?JSON.parse(U):null,loading:!1,error:null},_=Object(L.b)({name:"user",initialState:E,reducers:{loginStart:function(e){e.loading=!0,e.error=null},loginSuccess:function(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},loginFailure:function(e,t){e.loading=!1,e.error=t.payload},getUserDetailsStart:function(e){e.loading=!0,e.error=null},getUserDetailsSuccess:function(e,t){e.userDetails=t.payload,e.loading=!1,e.error=null},getUserDetailsFailure:function(e,t){e.loading=!1,e.error=t.payload},createUserStart:function(e){e.loading=!0,e.error=null},createUserSuccess:function(e,t){e.userDetails=Object(R.a)({},t.payload),e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(t.payload))},createUserFailure:function(e,t){e.loading=!1,e.error=t.payload},updateUserStart:function(e){e.loading=!0,e.error=null},updateUserSuccess:function(e,t){e.userDetails=Object(R.a)(Object(R.a)({},e.userDetails),t.payload),e.loading=!1,e.error=null,localStorage.setItem("userInfo",JSON.stringify(e.userDetails))},updateUserFailure:function(e,t){e.loading=!1,e.error=t.payload},deleteUserStart:function(e){e.loading=!0,e.error=null},deleteUserSuccess:function(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")},deleteUserFailure:function(e,t){e.loading=!1,e.error=t.payload},logoutSuccess:function(e){e.userDetails={},e.loading=!1,e.error=null,localStorage.removeItem("userInfo")}}}),q=_.actions,B=q.loginStart,W=q.loginSuccess,M=q.loginFailure,J=(q.getUserDetailsStart,q.getUserDetailsSuccess,q.getUserDetailsFailure,q.createUserStart),G=q.createUserSuccess,X=q.createUserFailure,H=q.updateUserStart,K=q.updateUserSuccess,Y=q.updateUserFailure,V=q.deleteUserStart,Q=q.deleteUserSuccess,Z=q.deleteUserFailure,$=(q.logoutSuccess,_.reducer),ee=Object(m.a)((function(e){return{appBar:{backgroundColor:"#212121"},grow:{flexGrow:1},menuItem:{minWidth:180},link:{textDecoration:"none",color:"#fff"}}})),te=function(){var e=ee(),t=Object(i.b)(),r=Object(i.c)((function(e){return e.user})).userDetails,n=a.a.useState(null),c=Object(l.a)(n,2),s=c[0],o=c[1],m=Boolean(s),f=function(){o(null)};return Object(S.jsx)("div",{className:e.grow,children:Object(S.jsx)(u.a,{position:"static",className:e.appBar,children:Object(S.jsxs)(j.a,{children:[Object(S.jsx)(d.Link,{to:"/",className:e.link,children:Object(S.jsx)("img",{src:k,alt:"FooTshop",style:{height:60}})}),Object(S.jsx)("div",{style:{marginLeft:"5vw"},children:Object(S.jsx)(I,{})}),Object(S.jsx)("div",{className:e.grow}),Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{"aria-label":"show cart items",color:"inherit",component:d.Link,to:"/cart",style:{color:"white"},children:Object(S.jsx)(O.a,{})})}),console.log(r),r?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(p.a,{edge:"end","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:function(e){o(e.currentTarget)},color:"inherit",style:{color:"white"},children:Object(S.jsx)(x.a,{})}),Object(S.jsxs)(h.a,{id:"menu-appbar",anchorEl:s,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:m,onClose:f,children:[Object(S.jsx)(b.a,{className:e.menuItem,component:d.Link,to:"/profile",onClick:f,children:"Profile"}),Object(S.jsx)(b.a,{className:e.menuItem,onClick:function(){t((function(e){e(_.actions.logoutSuccess())})),console.log("hi"),f(),window.location.reload()},children:"Logout"})]})]}):Object(S.jsx)("div",{children:Object(S.jsx)(p.a,{"aria-label":"login",color:"inherit",component:d.Link,to:"/login",style:{color:"white"},children:Object(S.jsx)(x.a,{})})})]})})})},re=r(393),ne=r(400),ae=r(394),ce=r(401),se=r(383),ie=r(392),oe=r(396),le=r(402),de=r(212),ue=r(83),je=r(365),pe=r(192),he=r.n(pe),be=r(193),Oe=r.n(be),xe=r(194),me=r.n(xe),fe=r(195),ge=r.n(fe),ve=r(196),ye=r.n(ve),Se=r(197),we=r.n(Se),Ie=r(198),ke=r.n(Ie),Ce=r(199),Pe=r.n(Ce),De=Object(de.a)("footer")({position:"relative",display:"flex",alignItems:"center",backgroundColor:"#212121",color:"#FFFFFF",padding:"10px",overflow:"hidden"}),Re=Object(de.a)(re.a)({marginBottom:"24px",textAlign:"center"}),Le=Object(de.a)("form")({display:"flex",alignItems:"center",justifyContent:"center",width:"100%",maxWidth:"500px",margin:"0 auto"}),Ne=Object(de.a)("ul")({listStyleType:"none",padding:0,margin:0}),Fe=Object(de.a)("li")({marginBottom:"8px"}),ze=Object(de.a)(re.a)({display:"flex",justifyContent:"center",gap:"16px"}),Ae=function(){var e=Object(ue.a)(),t=Object(je.a)(e.breakpoints.down("sm"));return Object(S.jsx)(De,{children:Object(S.jsxs)(ne.a,{sx:{marginTop:"1%"},children:[Object(S.jsxs)(ae.a,{container:!0,spacing:4,children:[Object(S.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(S.jsxs)(Re,{children:[Object(S.jsx)(ce.a,{variant:"h3",sx:{color:"wheat",fontFamily:"cursive",fontWeight:100},gutterBottom:!0,children:"Subscribe to Our Newsletter"}),Object(S.jsxs)(Le,{children:[Object(S.jsx)(se.a,{variant:"filled",placeholder:"Enter your email",fullWidth:!0,InputProps:{disableUnderline:!0,sx:{color:"white","&::placeholder":{color:"white"}}},sx:{marginRight:1,"& .MuiInputBase-input":{color:"white"}}}),Object(S.jsx)(ie.a,{sx:{color:"white",marginLeft:"-20px"},type:"submit",children:Object(S.jsx)(he.a,{})})]})]})}),Object(S.jsx)(ae.a,{item:!0,xs:12,md:3,sx:{textAlign:t?"center":"left"},children:Object(S.jsxs)(re.a,{children:[Object(S.jsx)(ce.a,{variant:"h5",sx:{color:"wheat"},gutterBottom:!0,children:"Menu"}),Object(S.jsxs)(Ne,{children:[Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/collections/all",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Shop All"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/about-us",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"About Us"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/blogs/community",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Community"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"#",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Vibes"})})]})]})}),Object(S.jsx)(ae.a,{item:!0,xs:12,md:3,sx:{textAlign:t?"center":"left"},children:Object(S.jsxs)(re.a,{children:[Object(S.jsx)(ce.a,{variant:"h5",sx:{color:"wheat"},gutterBottom:!0,children:"Support"}),Object(S.jsxs)(Ne,{children:[Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/shipping-returns",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Shipping & Returns"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/help",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Help & FAQ"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/terms-conditions",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Terms & Conditions"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/privacy-policy",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Privacy Policy"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/pages/contact",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Contact"})}),Object(S.jsx)(Fe,{children:Object(S.jsx)(oe.a,{href:"/account/login",color:"inherit",underline:"hover",sx:{"&:hover":{color:"wheat"}},children:"Login"})})]})]})})]}),Object(S.jsx)(ae.a,{container:!0,spacing:4,marginTop:4,justifyContent:"center",children:Object(S.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(S.jsxs)(ze,{children:[Object(S.jsx)(le.a,{color:"inherit","aria-label":"facebook",children:Object(S.jsx)(Oe.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"twitter",children:Object(S.jsx)(me.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"instagram",children:Object(S.jsx)(ge.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"youtube",children:Object(S.jsx)(ye.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"whatsapp",children:Object(S.jsx)(we.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"pinterest",children:Object(S.jsx)(ke.a,{fontSize:"large"})}),Object(S.jsx)(le.a,{color:"inherit","aria-label":"linkedin",children:Object(S.jsx)(Pe.a,{fontSize:"large"})})]})})}),Object(S.jsx)(re.a,{textAlign:"center",paddingY:2,children:Object(S.jsx)(ce.a,{variant:"body2",children:"\xa9 2024 The PureThreads Inc."})})]})})},Te=r(375),Ue=r(203),Ee=r(395),_e=r(403),qe=r(404),Be=r(405),We=r(372),Me=r(369),Je=r(370),Ge=r(371);var Xe=function(e){var t=e.value,r=e.text,n=e.color;return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(g.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(g.a,{mr:1,children:t>=1?Object(S.jsx)(Me.a,{style:{color:n},fontSize:"small"}):t>=.5?Object(S.jsx)(Je.a,{style:{color:n},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:n},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=2?Object(S.jsx)(Me.a,{style:{color:n},fontSize:"small"}):t>=1.5?Object(S.jsx)(Je.a,{style:{color:n},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:n},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=3?Object(S.jsx)(Me.a,{style:{color:n},fontSize:"small"}):t>=2.5?Object(S.jsx)(Je.a,{style:{color:n},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:n},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=4?Object(S.jsx)(Me.a,{style:{color:n},fontSize:"small"}):t>=3.5?Object(S.jsx)(Je.a,{style:{color:n},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:n},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=5?Object(S.jsx)(Me.a,{style:{color:n},fontSize:"small"}):t>=4.5?Object(S.jsx)(Je.a,{style:{color:n},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:n},fontSize:"small"})}),Object(S.jsx)(We.a,{variant:"subtitle2",color:"textSecondary",children:r||""})]})})};var He=function(e){var t=e.value,r=(e.text,e.color);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)(g.a,{display:"flex",alignItems:"center",children:[Object(S.jsx)(g.a,{mr:1,children:t>=1?Object(S.jsx)(Me.a,{style:{color:r},fontSize:"small"}):t>=.5?Object(S.jsx)(Je.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=2?Object(S.jsx)(Me.a,{style:{color:r},fontSize:"small"}):t>=1.5?Object(S.jsx)(Je.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=3?Object(S.jsx)(Me.a,{style:{color:r},fontSize:"small"}):t>=2.5?Object(S.jsx)(Je.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=4?Object(S.jsx)(Me.a,{style:{color:r},fontSize:"small"}):t>=3.5?Object(S.jsx)(Je.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:r},fontSize:"small"})}),Object(S.jsx)(g.a,{mr:1,children:t>=5?Object(S.jsx)(Me.a,{style:{color:r},fontSize:"small"}):t>=4.5?Object(S.jsx)(Je.a,{style:{color:r},fontSize:"small"}):Object(S.jsx)(Ge.a,{style:{color:r},fontSize:"small"})})]})})};var Ke=function(e){var t=e.product;return Object(S.jsx)(Ee.a,{sx:{maxWidth:345,margin:"5px"},children:Object(S.jsxs)(_e.a,{component:d.Link,to:"/product/".concat(t._id),children:[Object(S.jsx)(qe.a,{component:"img",sx:{objectFit:"contain",maxHeight:140},image:t.image,alt:t.name}),Object(S.jsxs)(Be.a,{style:{textAlign:"center"},children:[Object(S.jsx)(ce.a,{gutterBottom:!0,variant:"subheading2",component:"div",children:t.name}),Object(S.jsx)(ce.a,{variant:"body2",color:"text.secondary",sx:{display:"flex",flexDirection:"column",alignItems:"center"},component:"div",children:t.category}),Object(S.jsx)(ce.a,{variant:"body2",color:"text.secondary",sx:{display:"flex",flexDirection:"column",alignItems:"center"},component:"div",children:Object(S.jsx)(He,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#f8e825"})}),Object(S.jsxs)(ce.a,{variant:"subheading1",component:"div",children:["\u20b9",t.price]})]})]})})},Ye=r(373);function Ve(){return Object(S.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:Object(S.jsx)(Ye.a,{size:100})})}var Qe=r(389),Ze=r(7),$e=Object(Ze.a)(Qe.a)((function(e){e.theme,e.variant;return{backgroundColor:"grey",color:"white"}}));function et(e){var t=e.variant,r=e.children;return Object(S.jsx)($e,{variant:t,severity:t,children:r})}var tt=r(384),rt=r(374),nt=new(function(){function e(){Object(N.a)(this,e)}return Object(F.a)(e,[{key:"getProductList",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r,n,a,c=arguments;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"",r=c.length>1&&void 0!==c[1]?c[1]:"",e.prev=2,e.next=5,A.a.get("/api/products".concat(t),{params:{page:r}});case 5:return n=e.sent,a=n.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(2),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}()},{key:"getProductDetails",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/products/".concat(t));case 3:return r=e.sent,n=r.data,console.log(n),e.abrupt("return",n);case 9:throw e.prev=9,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},{key:"createProductReview",value:function(){var e=Object(D.a)(P.a.mark((function e(t,r){var n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=5,A.a.post("/api/products/".concat(t,"/reviews/"),r,a);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}()},{key:"getTopRatedProducts",value:function(){var e=Object(D.a)(P.a.mark((function e(){var t,r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/products/top/");case 3:return t=e.sent,r=t.data,e.abrupt("return",r);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}()}]),e}()),at=Object(L.b)({name:"product",initialState:{productList:{products:[],loading:!1,error:null,page:0,pages:0},productDetails:{product:{reviews:[]},loading:!1,error:null},createReview:{loading:!1,error:null,success:!1},topRatedProducts:{products:[],loading:!1,error:null}},reducers:{productListRequest:function(e){e.productList.loading=!0,e.productList.error=null},productListSuccess:function(e,t){e.productList.loading=!1,e.productList.products=t.payload.products,e.productList.page=t.payload.page,e.productList.pages=t.payload.pages},productListFailure:function(e,t){e.productList.loading=!1,e.productList.error=t.payload},productDetailsRequest:function(e){e.productDetails.loading=!0,e.productDetails.error=null},productDetailsSuccess:function(e,t){e.productDetails.loading=!1,e.productDetails.product=t.payload},productDetailsFailure:function(e,t){e.productDetails.loading=!1,e.productDetails.error=t.payload},createReviewRequest:function(e){e.createReview.loading=!0,e.createReview.error=null,e.createReview.success=!1},createReviewSuccess:function(e){e.createReview.loading=!1,e.createReview.success=!0},createReviewFailure:function(e,t){e.createReview.loading=!1,e.createReview.error=t.payload},productTopRequest:function(e){e.topRatedProducts.loading=!0,e.topRatedProducts.error=null},productTopSuccess:function(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.products=t.payload},productTopFailure:function(e,t){e.topRatedProducts.loading=!1,e.topRatedProducts.error=t.payload}}}),ct=at.actions,st=ct.productListRequest,it=ct.productListSuccess,ot=ct.productListFailure,lt=ct.productDetailsRequest,dt=ct.productDetailsSuccess,ut=ct.productDetailsFailure,jt=ct.createReviewRequest,pt=ct.createReviewSuccess,ht=ct.createReviewFailure,bt=ct.productTopRequest,Ot=ct.productTopSuccess,xt=ct.productTopFailure,mt=at.reducer;var ft=function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.product.topRatedProducts})),r=t.error,a=t.loading,c=t.products;return console.log(t),Object(n.useEffect)((function(){e(function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(bt()),e.next=4,nt.getTopRatedProducts();case 4:r=e.sent,t(Ot(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(xt((null===(n=e.t0.response)||void 0===n?void 0:n.data.detail)||e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),a?Object(S.jsx)(Ve,{}):r?Object(S.jsx)(et,{variant:"danger",children:r}):Object(S.jsx)(tt.a,{style:{height:"300px"},pause:"hover",className:"bg-dark",interval:5e3,children:c.map((function(e){return Object(S.jsx)(tt.a.Item,{children:Object(S.jsxs)(d.Link,{to:"/product/".concat(e._id),children:[Object(S.jsx)(rt.a,{src:e.image,style:{height:"250px",width:"250px"},alt:e.name}),Object(S.jsx)(tt.a.Caption,{className:"carousel-caption",children:Object(S.jsxs)("h4",{children:[e.name," (\u20b9",e.price,")"]})})]})},e._id)}))})},gt=r(109);var vt=function(e){var t=e.history,r=Object(i.b)(),a=Object(i.c)((function(e){return e.product.productList})),c=a.products,s=a.loading,o=a.error,l=(a.page,a.pages,Object(gt.useParams)().pageNumber),u=t.location.search;Object(n.useEffect)((function(){r(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var r=Object(D.a)(P.a.mark((function r(n){var a,c;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(st()),r.next=4,nt.getProductList(e,t);case 4:a=r.sent,n(it(a)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(ot((null===(c=r.t0.response)||void 0===c?void 0:c.data.detail)||r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(u,l))}),[r,u,l]);var j=c.slice(0,4);return Object(S.jsx)(S.Fragment,{children:Object(S.jsxs)("div",{children:[!u&&Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{minHeight:"40vh",backgroundImage:'url("https://img.freepik.com/premium-photo/five-different-colored-t-shirts-hanging-clothes-hangers_893012-45654.jpg")',backgroundSize:"cover",backgroundPosition:"center",padding:"2rem",display:"flex",alignItems:"center"},children:Object(S.jsx)(ne.a,{maxWidth:"lg",children:Object(S.jsx)(ae.a,{container:!0,spacing:4,justifyContent:"center",alignItems:"center",children:Object(S.jsx)(ae.a,{item:!0,xs:12,md:12,children:Object(S.jsxs)("div",{style:{backgroundColor:"transparent",borderRadius:"1rem",textAlign:"center"},children:[Object(S.jsx)(ce.a,{variant:"h3",style:{color:"powderblue",fontFamily:"fangsong",fontWeight:"bold",fontSize:"215%"},gutterBottom:!0,children:"Welcome to PureThreads"}),Object(S.jsx)(ce.a,{variant:"body1",style:{color:"green",fontSize:"80%"},paragraph:!0,children:"Discover a wide range of stylish and comfortable T-shirts for every occasion."}),Object(S.jsx)(d.Link,{to:"/productcards",style:{textDecoration:"none"},children:Object(S.jsx)(ie.a,{variant:"contained",color:"secondary",style:{marginTop:"1rem",color:"black",backgroundColor:"powderblue",fontSize:"80%"},children:"Explore Collection"})})]})})})})}),Object(S.jsx)("div",{style:{padding:"8px",marginTop:"20px",borderRadius:"4px",fontWeight:"bold"},children:"TOP-RATED PRODUCTS"}),Object(S.jsx)(ft,{})]}),s?Object(S.jsx)(Ve,{}):o?Object(S.jsx)(et,{variant:"danger",children:o}):Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",borderRadius:"4px",border:"none",fontWeight:"normal",cursor:"pointer"},children:"Latest Products"}),Object(S.jsx)(Te.a,{children:j.map((function(e){return Object(S.jsx)(Ue.a,{sm:12,md:6,lg:4,xl:3,children:Object(S.jsx)(Ke,{product:e})},e._id)}))})]})]})})},yt=r(19),St=r(388),wt=r(391),It=r(387),kt=r(376),Ct=r(377),Pt=new(function(){function e(){Object(N.a)(this,e)}return Object(F.a)(e,[{key:"fetchProduct",value:function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A.a.get("/api/products/".concat(t));case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}]),e}()),Dt=Object(L.b)({name:"cart",initialState:{cartItems:JSON.parse(localStorage.getItem("cartItems"))||[],shippingAddress:{}},reducers:{setCartItems:function(e,t){e.cartItems=t.payload,console.log(e.cartItems),localStorage.setItem("cartItems",JSON.stringify(t.payload))},removeCartItem:function(e,t){var r=t.payload;e.cartItems=e.cartItems.filter((function(e){return e._id!==r})),localStorage.setItem("cartItems",JSON.stringify(e.cartItems))},setShippingAddress:function(e,t){e.shippingAddress=t.payload,localStorage.setItem("shippingAddress",JSON.stringify(t.payload))},setPaymentMethod:function(e,t){e.paymentMethod=t.payload,localStorage.setItem("paymentMethod",JSON.stringify(t.payload))}}}),Rt=Dt.actions,Lt=Rt.setCartItems,Nt=Rt.removeCartItem,Ft=Rt.setShippingAddress,zt=Rt.setPaymentMethod,At=Dt.reducer;var Tt=function(e){var t=e.match,r=e.history,a=Object(i.b)(),c=Object(i.c)((function(e){return e.product.productList})),s=Object(n.useState)(null),o=Object(l.a)(s,2),u=o[0],j=o[1],p=c.products,h=(c.loadingP,c.errorP,c.page,c.pages,p.slice(0,4)),b=Object(n.useState)(1),O=Object(l.a)(b,2),x=O[0],m=O[1],f=Object(n.useState)(0),g=Object(l.a)(f,2),v=g[0],y=g[1],w=Object(n.useState)(""),I=Object(l.a)(w,2),k=I[0],C=I[1],L=Object(i.c)((function(e){return e.product.productDetails})),N=L.product,F=L.loading,z=L.error,A=Object(i.c)((function(e){return e.user})).userDetails,T=Object(i.c)((function(e){return e.product.createReview})),U=T.loading,E=T.error,_=T.success;return Object(n.useEffect)((function(){var e;_&&(y(0),C("")),a((e=t.params.id,function(){var t=Object(D.a)(P.a.mark((function t(r){var n,a;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(lt()),t.next=4,nt.getProductDetails(e);case 4:n=t.sent,r(dt(n)),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),r(ut((null===(a=t.t0.response)||void 0===a?void 0:a.data.detail)||t.t0.message));case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))}),[a,t,_]),Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{children:[Object(S.jsx)(d.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),F?Object(S.jsx)(Ve,{}):z?Object(S.jsx)(et,{variant:"danger",children:z}):Object(S.jsxs)("div",{children:[Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:3,children:Object(S.jsx)(rt.a,{src:N.image,alt:N.name,fluid:!0})}),Object(S.jsx)(Ue.a,{md:6,children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsx)(St.a.Item,{children:Object(S.jsx)("h3",{children:N.name})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsx)(Xe,{value:N.rating,text:"".concat(N.numReviews," reviews"),color:"#f8e825"})}),Object(S.jsxs)(St.a.Item,{children:["Author: ",N.author]}),Object(S.jsxs)(St.a.Item,{children:["Price: \u20b9",N.price]}),Object(S.jsxs)(St.a.Item,{children:["Description: ",N.description]})]})}),Object(S.jsx)(Ue.a,{md:3,children:Object(S.jsx)(wt.a,{children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Price:"}),Object(S.jsx)(Ue.a,{children:Object(S.jsxs)("strong",{children:["\u20b9",N.price]})})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Status:"}),Object(S.jsx)(Ue.a,{children:N.countInStock>0?"In Stock":"Out of Stock"})]})}),N.countInStock>0&&Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Quantity:"}),Object(S.jsx)(Ue.a,{children:Object(S.jsx)(It.a.Control,{style:{border:"2px solid black"},as:"select",value:x,onChange:function(e){return m(e.target.value)},children:Object(yt.a)(Array(N.countInStock).keys()).map((function(e){return Object(S.jsx)("option",{value:e+1,children:e+1},e+1)}))})})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Size:"}),Object(S.jsx)(kt.a,{size:"sm",children:["XS","S","M","L","XL","XXL"].map((function(e){return Object(S.jsx)(Ct.a,{variant:u===e?"primary":"outline-primary",onClick:function(){return function(e){j(e)}(e)},children:e},e)}))})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsx)(Ct.a,{onClick:function(){u?(r.push("/cart/".concat(t.params.id,"?qty=").concat(x,"&size=").concat(u)),a(function(e,t,r){return function(){var n=Object(D.a)(P.a.mark((function n(a,c){var s,i,o,l,d;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s=c().cart.cartItems,n.next=4,Pt.fetchProduct(e);case 4:i=n.sent,o=-1,l=0;case 7:if(!(l<s.length)){n.next=14;break}if(s[l]._id!==e||s[l].size!==r){n.next=11;break}return o=l,n.abrupt("break",14);case 11:l++,n.next=7;break;case 14:-1!==o?((d=Object(yt.a)(s))[o].qty+=t,a(Lt(d))):a(Lt([].concat(Object(yt.a)(s),[Object(R.a)(Object(R.a)({},i),{},{qty:t,size:r})]))),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log("Error adding item to cart:",n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})));return function(e,t){return n.apply(this,arguments)}}()}(t.params.id,x,u))):alert("Please select a size")},className:"btn-block",type:"button",disabled:0===N.countInStock,children:"Add to Cart"})})]})})})]}),Object(S.jsx)(Te.a,{children:Object(S.jsxs)(Ue.a,{md:6,children:[Object(S.jsx)("h4",{children:"Reviews"}),0===N.reviews.length&&Object(S.jsx)(et,{children:"No reviews"}),Object(S.jsxs)(St.a,{variant:"flush",children:[N.reviews.map((function(e){return Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("strong",{children:e.name}),Object(S.jsx)(Xe,{color:"#f8e825",value:e.rating}),Object(S.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(S.jsx)("p",{children:e.comment})]},e._id)})),Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h4",{children:"Write a Review"}),U&&Object(S.jsx)(Ve,{}),_&&Object(S.jsx)(et,{variant:"success",children:"Review submitted"}),E&&Object(S.jsx)(et,{variant:"danger",children:E}),A?Object(S.jsxs)(It.a,{onSubmit:function(e){var r,n;e.preventDefault(),a((r=t.params.id,n={rating:v,comment:k},function(){var e=Object(D.a)(P.a.mark((function e(t){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(jt()),e.next=4,nt.createProductReview(r,n);case 4:t(pt()),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t(ht((null===(a=e.t0.response)||void 0===a?void 0:a.data.detail)||e.t0.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(S.jsxs)(It.a.Group,{controlId:"rating",children:[Object(S.jsx)(It.a.Label,{children:"Rating"}),Object(S.jsxs)(It.a.Control,{as:"select",value:v,onChange:function(e){return y(e.target.value)},children:[Object(S.jsx)("option",{value:"",children:"Select..."}),Object(S.jsx)("option",{value:"1",children:"1 - Poor"}),Object(S.jsx)("option",{value:"2",children:"2 - Fair"}),Object(S.jsx)("option",{value:"3",children:"3 - Good"}),Object(S.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(S.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(S.jsxs)(It.a.Group,{controlId:"comment",children:[Object(S.jsx)(It.a.Label,{children:"Comment"}),Object(S.jsx)(It.a.Control,{as:"textarea",rows:"3",value:k,onChange:function(e){return C(e.target.value)}})]}),Object(S.jsx)(Ct.a,{disabled:U,type:"submit",variant:"primary",children:"Submit"})]}):Object(S.jsxs)(et,{children:["Please ",Object(S.jsx)(d.Link,{to:"/login",children:"sign in"})," to write a review"]})]})]})]})})]})]}),Object(S.jsx)("br",{}),Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",borderRadius:"4px",border:"none",fontWeight:"normal",cursor:"pointer"},children:"Other Products"}),Object(S.jsx)(Te.a,{children:h.map((function(e){return Object(S.jsx)(Ue.a,{sm:12,md:6,lg:4,xl:3,children:Object(S.jsx)(Ke,{product:e})},e._id)}))})]})]})};var Ut=function(e){var t=e.history,r=Object(i.b)(),n=Object(i.c)((function(e){return e.cart})).cartItems;console.log(n);var a=function(e){r(function(e){return function(t,r){try{t(Nt(e))}catch(n){console.log("Error removing item from cart:",n)}}}(e))};return Object(S.jsxs)(Te.a,{children:[Object(S.jsxs)(Ue.a,{md:8,children:[Object(S.jsx)("h1",{children:"Shopping Cart"}),0===n.length?Object(S.jsxs)(et,{variant:"info",children:["Your cart is empty. ",Object(S.jsx)(d.Link,{to:"/",children:"Go Back"})]}):Object(S.jsx)(St.a,{variant:"flush",children:n.map((function(e){return Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:2,children:Object(S.jsx)(rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(Ue.a,{m:3,children:Object(S.jsx)(d.Link,{to:"/product/".concat(e._id),children:e.name})}),Object(S.jsx)(Ue.a,{children:e.qty}),Object(S.jsxs)(Ue.a,{children:["\u20b9",e.price]}),Object(S.jsx)(Ue.a,{md:1,children:Object(S.jsx)(Ct.a,{type:"button",variant:"light",onClick:function(){return a(e._id)},children:Object(S.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)}))})]}),Object(S.jsx)(Ue.a,{md:4,children:Object(S.jsxs)(wt.a,{children:[Object(S.jsx)(St.a,{variant:"flush",children:Object(S.jsxs)(St.a.Item,{children:[Object(S.jsxs)("h2",{children:["Subtotal (",n.reduce((function(e,t){return e+t.qty}),0),") items"]}),"\u20b9",n.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsx)(Ct.a,{type:"button",className:"w-100",disabled:0===n.length,onClick:function(){t.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})]})},Et=r(378),_t=r(385),qt=r(379);var Bt=function(e){var t=e.children;return Object(S.jsx)(ne.a,{children:Object(S.jsx)(ae.a,{container:!0,justifyContent:"center",children:Object(S.jsx)(ae.a,{item:!0,xs:12,md:6,children:t})})})},Wt=Object(m.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Mt=function(e){var t=e.location,r=e.history,a=Wt(),c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(""),p=Object(l.a)(j,2),h=p[0],b=p[1],O=Object(i.b)(),x=t.search?t.search.split("=")[1]:"/",m=Object(i.c)((function(e){return e.user})),f=m.userDetails,g=m.loading,v=m.error;return Object(n.useEffect)((function(){f&&r.replace(x)}),[r,f,x]),Object(S.jsxs)(Bt,{children:[Object(S.jsx)(We.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Sign In"}),v&&Object(S.jsx)(et,{variant:"danger",children:v}),g&&Object(S.jsx)(Ve,{}),Object(S.jsxs)("form",{className:a.form,onSubmit:function(e){e.preventDefault(),O(function(e,t){return function(){var r=Object(D.a)(P.a.mark((function r(n){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(B()),r.next=4,T.login(e,t);case 4:a=r.sent,n(W(a)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(M(r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(o,h))},children:[Object(S.jsxs)(Et.a,{container:!0,spacing:2,children:[Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:o,onChange:function(e){return u(e.target.value)}})}),Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:h,onChange:function(e){return b(e.target.value)}})})]}),Object(S.jsx)(qt.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:a.submit,children:"Sign In"}),Object(S.jsx)(Et.a,{container:!0,justify:"flex-start",children:Object(S.jsxs)(Et.a,{item:!0,children:["New Customer?"," ",Object(S.jsx)(d.Link,{to:x?"/register?redirect=".concat(x):"/register",variant:"body2",children:"Register"})]})})]})]})},Jt=r(380),Gt=Object(m.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"left"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var Xt=function(e){var t=e.location,r=e.history,a=Gt(),c=Object(n.useState)(""),s=Object(l.a)(c,2),o=s[0],u=s[1],j=Object(n.useState)(""),p=Object(l.a)(j,2),h=p[0],b=p[1],O=Object(n.useState)(""),x=Object(l.a)(O,2),m=x[0],f=x[1],g=Object(n.useState)(""),v=Object(l.a)(g,2),y=v[0],w=v[1],I=Object(n.useState)(""),k=Object(l.a)(I,2),C=k[0],R=k[1],L=Object(i.b)(),N=t.search?t.search.split("=")[1]:"/",F=Object(i.c)((function(e){return e.user})),z=F.userDetails,A=F.loading,U=F.error;return Object(n.useEffect)((function(){z&&r.push(N)}),[r,z,N]),Object(S.jsx)(Jt.a,{component:"main",maxWidth:"xs",children:Object(S.jsxs)("div",{className:a.paper,children:[Object(S.jsx)(We.a,{component:"h1",style:{fontWeight:"bold"},variant:"h5",children:"Register"}),C&&Object(S.jsx)(et,{variant:"danger",children:C}),U&&Object(S.jsx)(et,{variant:"danger",children:U}),A&&Object(S.jsx)(Ve,{}),Object(S.jsxs)("form",{className:a.form,onSubmit:function(e){e.preventDefault(),m!==y?R("Passwords do not match"):L(function(e,t,r){return function(){var n=Object(D.a)(P.a.mark((function n(a){var c;return P.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(J()),n.next=4,T.createUser(e,t,r);case 4:c=n.sent,a(G(c)),a(W(c)),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),a(X(n.t0.message));case 12:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(e){return n.apply(this,arguments)}}()}(o,h,m))},children:[Object(S.jsxs)(Et.a,{container:!0,spacing:2,children:[Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,id:"name",label:"Name",name:"name",value:o,onChange:function(e){return u(e.target.value)}})}),Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",value:h,onChange:function(e){return b(e.target.value)}})}),Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",value:m,onChange:function(e){return f(e.target.value)}})}),Object(S.jsx)(Et.a,{item:!0,xs:12,children:Object(S.jsx)(_t.a,{variant:"filled",required:!0,fullWidth:!0,name:"confirmPassword",label:"Confirm Password",type:"password",id:"confirmPassword",value:y,onChange:function(e){return w(e.target.value)}})})]}),Object(S.jsx)(qt.a,{type:"submit",fullWidth:!0,variant:"outlined",color:"primary",className:a.submit,children:"Register"}),Object(S.jsx)(Et.a,{container:!0,justifyContent:"flex-start",children:Object(S.jsxs)(Et.a,{item:!0,children:["Already have an account?",Object(S.jsx)(d.Link,{to:N?"/login?redirect=".concat(N):"/login",variant:"body2",children:"Sign in"})]})})]})]})})},Ht=r(381),Kt=r(204),Yt=new function e(){Object(N.a)(this,e),this.createOrder=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.prev=1,r=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=6,A.a.post("/api/orders/add/",t,n);case 6:return a=e.sent,c=a.data,e.abrupt("return",c);case 11:throw e.prev=11,e.t0=e.catch(1),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),this.getOrderDetails=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=5,A.a.get("/api/orders/".concat(t,"/"),n);case 5:return a=e.sent,c=a.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}(),this.payOrder=function(){var e=Object(D.a)(P.a.mark((function e(t,r){var n,a,c,s;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=JSON.parse(localStorage.getItem("userInfo")).token,a={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n)}},e.next=5,A.a.put("/api/orders/".concat(t,"/pay/"),r,a);case 5:return c=e.sent,s=c.data,e.abrupt("return",s);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,r){return e.apply(this,arguments)}}(),this.listMyOrders=Object(D.a)(P.a.mark((function e(){var t,r,n,a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=JSON.parse(localStorage.getItem("userInfo")).token,r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(t)}},e.next=5,A.a.get("/api/orders/myorders/",r);case 5:return n=e.sent,a=n.data,e.abrupt("return",a);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),this.deliverOrder=function(){var e=Object(D.a)(P.a.mark((function e(t){var r,n,a,c;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=JSON.parse(localStorage.getItem("userInfo")).token,n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r)}},e.next=5,A.a.put("/api/orders/".concat(t._id,"/deliver/"),{},n);case 5:return a=e.sent,c=a.data,e.abrupt("return",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0.response&&e.t0.response.data.detail?e.t0.response.data.detail:e.t0.message;case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},Vt=Object(L.b)({name:"order",initialState:{listorder:[],orderDetails:{},loading:!1,error:null},reducers:{getOrderDetailsStart:function(e){e.loading=!0,e.error=null},getOrderDetailsSuccess:function(e,t){e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(t.payload)},getOrderDetailsFailure:function(e,t){e.loading=!1,e.error=t.payload},createOrderStart:function(e){console.log(e),e.loading=!0,e.error=null},createOrderSuccess:function(e,t){e.listorder.push(t.payload),e.orderDetails=t.payload,e.loading=!1,e.error=null,console.log(e,t)},createOrderFailure:function(e,t){e.loading=!1,e.error=t.payload,console.log(e,t)},payOrderStart:function(e){e.loading=!0,e.error=null},payOrderSuccess:function(e,t){return"Order was paid"===t.payload&&(e.orderDetails.isPaid=!0),e.loading=!1,e.error=null,console.log(t.payload),console.log(e.orderDetails),e},payOrderFailure:function(e,t){e.loading=!1,e.error=t.payload},listMyOrdersStart:function(e){e.loading=!0,e.error=null},listMyOrdersSuccess:function(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listMyOrdersFailure:function(e,t){e.loading=!1,e.error=t.payload},listOrdersStart:function(e){e.loading=!0,e.error=null},listOrdersSuccess:function(e,t){e.listorder=t.payload,e.loading=!1,e.error=null},listOrdersFailure:function(e,t){e.loading=!1,e.error=t.payload},deliverOrderStart:function(e){e.loading=!0,e.error=null},deliverOrderSuccess:function(e,t){var r=t.payload,n=e.listorder.findIndex((function(e){return e._id===r._id}));-1!==n&&(e.listorder[n]=r),e.loading=!1,e.error=null},deliverOrderFailure:function(e,t){e.loading=!1,e.error=t.payload}}}),Qt=Vt.actions,Zt=Qt.getOrderDetailsStart,$t=Qt.getOrderDetailsSuccess,er=Qt.getOrderDetailsFailure,tr=Qt.createOrderStart,rr=Qt.createOrderSuccess,nr=Qt.createOrderFailure,ar=Qt.payOrderStart,cr=Qt.payOrderSuccess,sr=Qt.payOrderFailure,ir=Qt.listMyOrdersStart,or=Qt.listMyOrdersSuccess,lr=Qt.listMyOrdersFailure,dr=(Qt.listOrdersStart,Qt.listOrdersSuccess,Qt.listOrdersFailure,Qt.deliverOrderStart,Qt.deliverOrderSuccess,Qt.deliverOrderFailure,Vt.reducer),ur=r(205),jr=r.n(ur);var pr=function(e){var t=e.history,r=Object(n.useState)(""),a=Object(l.a)(r,2),c=a[0],s=a[1],o=Object(n.useState)(""),d=Object(l.a)(o,2),u=d[0],j=d[1],p=Object(n.useState)(""),h=Object(l.a)(p,2),b=h[0],O=h[1],x=Object(n.useState)(""),m=Object(l.a)(x,2),f=m[0],g=m[1],v=Object(n.useState)(""),y=Object(l.a)(v,2),w=y[0],I=y[1],k=Object(i.b)(),C=Object(i.c)((function(e){return e.user})),R=C.userDetails,L=C.loading,N=C.error,F={id:R._id,name:c,email:u,password:b},z=Object(i.c)((function(e){return e.order})),A=z.listorder,U=z.loading,E=z.error;return console.log(A),Object(n.useEffect)((function(){R?(k(function(){var e=Object(D.a)(P.a.mark((function e(t){var r;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(ir()),e.next=4,Yt.listMyOrders();case 4:r=e.sent,t(or(r)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t(lr(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),s(R.name),j(R.username)):t.push("/login")}),[k,t,R,N]),Object(S.jsxs)(Te.a,{children:[Object(S.jsxs)(Ue.a,{md:3,children:[Object(S.jsx)("h2",{children:"User Profile"}),w&&Object(S.jsx)(et,{variant:"danger",children:w}),N&&Object(S.jsx)(et,{variant:"danger",children:N}),L&&Object(S.jsx)(Ve,{}),Object(S.jsxs)(It.a,{onSubmit:function(e){var t,r;e.preventDefault(),b!==f?I("Passwords do not match"):(k((t=R.id,r=F,function(){var e=Object(D.a)(P.a.mark((function e(n){var a;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n(H()),e.next=4,T.updateUser(t,r);case 4:a=e.sent,n(K(a)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n(Y(e.t0.message));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),console.log(F),I(""))},children:[Object(S.jsxs)(It.a.Group,{controlId:"name",children:[Object(S.jsx)(It.a.Label,{children:"Name"}),Object(S.jsx)(It.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:c,onChange:function(e){return s(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"email",children:[Object(S.jsx)(It.a.Label,{children:"Email Address"}),Object(S.jsx)(It.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"password",children:[Object(S.jsx)(It.a.Label,{children:"Password"}),Object(S.jsx)(It.a.Control,{type:"password",placeholder:"Enter Password",value:b,onChange:function(e){return O(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"passwordConfirm",children:[Object(S.jsx)(It.a.Label,{children:"Confirm Password"}),Object(S.jsx)(It.a.Control,{type:"password",placeholder:"Confirm Password",value:f,onChange:function(e){return g(e.target.value)}})]}),Object(S.jsx)(Ct.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]}),Object(S.jsx)(Ct.a,{type:"submit",variant:"danger",className:"mt-3",onClick:function(){var e;k((e=R.id,function(){var t=Object(D.a)(P.a.mark((function t(r){return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(V()),t.next=4,T.deleteUser(e);case 4:r(Q()),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),r(Z(t.t0.message));case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}())),t.push("/"),window.location.reload()},children:Object(S.jsxs)("div",{style:{fontSize:"7px"},children:[Object(S.jsx)(jr.a,{}),"  Account "]})})]}),Object(S.jsxs)(Ue.a,{md:9,children:[Object(S.jsx)("h2",{children:"My Orders"}),U?Object(S.jsx)(Ve,{}):E?Object(S.jsx)(et,{variant:"danger",children:E}):Object(S.jsxs)(Ht.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(S.jsx)("thead",{children:Object(S.jsxs)("tr",{children:[Object(S.jsx)("th",{children:"ID"}),Object(S.jsx)("th",{children:"Date"}),Object(S.jsx)("th",{children:"Total"}),Object(S.jsx)("th",{children:"Paid"}),Object(S.jsx)("th",{children:"Delivered"})]})}),Object(S.jsx)("tbody",{children:A.filter((function(e){return e.isPaid})).map((function(e){return Object(S.jsxs)("tr",{children:[Object(S.jsx)("td",{children:e._id}),Object(S.jsx)("td",{children:e.createdAt?e.createdAt.substring(0,10):null}),Object(S.jsxs)("td",{children:["$",e.totalPrice]}),Object(S.jsx)("td",{children:e.isPaid?e.paidAt?e.paidAt.substring(0,10):null:Object(S.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(S.jsx)("td",{children:Object(S.jsx)(Kt.LinkContainer,{to:"/orderDetail",children:Object(S.jsx)(Ct.a,{className:"btn-sm",onClick:function(){return k((t=e._id,function(){var e=Object(D.a)(P.a.mark((function e(r){var n;return P.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(Zt()),e.next=4,Yt.getOrderDetails(t);case 4:n=e.sent,console.log(t),r($t(n)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),r(er(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()));var t},children:"Details"})})})]},e._id)}))})]})]})]})},hr=r(397),br=Object(m.a)((function(e){return{link:{display:"flex",color:e.palette.grey[600],textDecoration:"none"},activeLink:{color:e.palette.primary.main}}}));var Or=function(e){var t=e.step1,r=e.step2,n=e.step3,a=br();return Object(S.jsxs)(hr.a,{"aria-label":"breadcrumb",children:[Object(S.jsx)(d.Link,{to:"/login",className:"".concat(a.link," ").concat(t?a.activeLink:""),children:t?"Login":"Login (Incomplete)"}),Object(S.jsx)(d.Link,{to:"/shipping",className:"".concat(a.link," ").concat(r?a.activeLink:""),children:r?"Shipping":"Shipping (Incomplete)"}),Object(S.jsx)(We.a,{color:n?"textPrimary":"textSecondary",className:"".concat(a.link," ").concat(n?a.activeLink:""),children:n?"Place Order":"Place Order (Incomplete)"})]})};var xr=function(e){var t=e.history,r=Object(i.c)((function(e){return e.cart})).shippingAddress,a=Object(n.useState)(r.address),c=Object(l.a)(a,2),s=c[0],o=c[1],d=Object(n.useState)(r.city),u=Object(l.a)(d,2),j=u[0],p=u[1],h=Object(n.useState)(r.postalCode),b=Object(l.a)(h,2),O=b[0],x=b[1],m=Object(n.useState)(r.country),f=Object(l.a)(m,2),g=f[0],v=f[1],y=Object(i.b)();return Object(S.jsxs)(Bt,{children:[Object(S.jsx)(Or,{step1:!0,step2:!0}),Object(S.jsx)("h1",{children:"Shipping"}),Object(S.jsxs)(It.a,{onSubmit:function(e){var r;e.preventDefault(),y((r={address:s,city:j,postalCode:O,country:g},function(e){e(Ft(r))})),t.push("./payment")},children:[Object(S.jsxs)(It.a.Group,{controlId:"address",children:[Object(S.jsx)(It.a.Label,{children:"Address"}),Object(S.jsx)(It.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:s||"",onChange:function(e){return o(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"city",children:[Object(S.jsx)(It.a.Label,{children:"City"}),Object(S.jsx)(It.a.Control,{required:!0,type:"text",placeholder:"Enter City",value:j||"",onChange:function(e){return p(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"postalCode",children:[Object(S.jsx)(It.a.Label,{children:"Postal Code"}),Object(S.jsx)(It.a.Control,{required:!0,type:"text",placeholder:"Enter Postal Code",value:O||"",onChange:function(e){return x(e.target.value)}})]}),Object(S.jsxs)(It.a.Group,{controlId:"country",children:[Object(S.jsx)(It.a.Label,{children:"Country"}),Object(S.jsx)(It.a.Control,{required:!0,type:"text",placeholder:"Enter Country",value:g||"",onChange:function(e){return v(e.target.value)}})]}),Object(S.jsx)(Ct.a,{className:"my-3",type:"submit",variant:"primary",children:"Continue"})]})]})};var mr=function(e){var t=e.history,r=Object(i.c)((function(e){return e.cart})).shippingAddress,a=Object(n.useState)("PayPal"),c=Object(l.a)(a,2),s=c[0],o=c[1];r.address||t.push("/shipping");var d=Object(i.b)();return Object(S.jsxs)(Bt,{children:[Object(S.jsx)(Or,{step1:!0,step2:!0,step3:!0}),Object(S.jsxs)(It.a,{onSubmit:function(e){var r;e.preventDefault(),d((r=s,function(e){e(zt(r))})),t.push("/placeorder")},children:[Object(S.jsxs)(It.a.Group,{children:[Object(S.jsx)(It.a.Label,{as:"legend",children:"Select Method"}),Object(S.jsx)(Ue.a,{children:Object(S.jsx)(It.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,onChange:function(e){return o(e.target.value)}})})]}),Object(S.jsx)(Ct.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"})]})]})};var fr=function(e){var t=e.history,r=Object(i.b)(),n=Object(i.c)((function(e){return e.order})),a=(n.orderDetails,n.loading,n.error),c=Object(i.c)((function(e){return e.cart})),s=c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0),o=s>100?0:10,l=Number((.082*s).toFixed(2)),u=(Number(s)+Number(o)+Number(l)).toFixed(2);c.paymentMethod||t.push("/payment");var j={orderItems:c.cartItems,shippingAddress:c.shippingAddress,paymentMethod:c.paymentMethod,itemsPrice:s.toFixed(2).toString(),shippingPrice:o.toFixed(2).toString(),taxPrice:l.toFixed(2).toString(),totalPrice:u.toString()};return Object(S.jsxs)("div",{children:[Object(S.jsx)(Or,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:8,children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Shipping"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Shipping Address: "}),c.shippingAddress.address,", ",c.shippingAddress.city,","," ",c.shippingAddress.postalCode,","," ",c.shippingAddress.country]})]}),Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Payment"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Payment Method: "}),c.paymentMethod]})]}),Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Order Items"}),0===c.cartItems.length?Object(S.jsx)(et,{variant:"info",children:"Your cart is empty"}):Object(S.jsx)(St.a,{variant:"flush",children:c.cartItems.map((function(e,t){return Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:1,children:Object(S.jsx)(rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(Ue.a,{children:Object(S.jsx)(d.Link,{to:"/product".concat(e.product),children:e.name})}),Object(S.jsxs)(Ue.a,{md:4,children:[e.qty," X \u20b9",e.price," = \u20b9",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(S.jsx)(Ue.a,{md:4,children:Object(S.jsx)(wt.a,{children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsx)(St.a.Item,{children:Object(S.jsx)("h2",{children:"Order Summary"})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Items:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",s.toFixed(2)]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Shipping:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",o.toFixed(2)]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Tax:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",l]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Total:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",u]})]})}),Object(S.jsx)(St.a.Item,{children:a&&Object(S.jsx)(et,{variant:"danger",children:a})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsx)(Ct.a,{type:"button",className:"w-100",disabled:0===c.cartItems.length,onClick:function(){r(function(e){return function(){var t=Object(D.a)(P.a.mark((function t(r){var n;return P.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r(tr()),t.next=4,Yt.createOrder(e);case 4:n=t.sent,r(rr(n)),localStorage.removeItem("cartItems"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),r(nr(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}(j)).then((function(){setTimeout((function(){t.push("/orderDetail")}),1e3)})).catch((function(e){}))},children:"Place Order"})})]})})})]})]})},gr=r(206);var vr=function(e){var t=e.history,r=Object(i.b)(),a=Object(n.useState)(!1),c=Object(l.a)(a,2),s=c[0],o=c[1],u=Object(i.c)((function(e){return e.order})),j=u.orderDetails,p=u.error,h=u.loading;console.log(j);var b=Object(i.c)((function(e){return e.user})).userDetails,O=j;if(O&&O.orderItems&&O.orderItems.length>0){var x=O.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2);O=Object(R.a)(Object(R.a)({},O),{},{itemsPrice:x})}Object(n.useEffect)((function(){b?j.isPaid||(window.paypal?o(!0):function(){var e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AYgflmsaM7ccNLPlKUiufIyw8-spOE4UuS5XyyTCvhzheA-1EUcZF9qGlgXBZaSKcP5BY0zTc9WgINKe",e.async=!0,e.onload=function(){o(!0)},document.body.appendChild(e)}()):t.push("/login")}),[r,j,t,b]);var m=j.orderItems&&j.orderItems.length>0?j.orderItems.reduce((function(e,t){return e+parseFloat(t.price)*t.qty}),0):0;return h?Object(S.jsx)(Ve,{}):p?Object(S.jsx)(et,{variant:"danger",children:p}):Object(S.jsxs)("div",{children:[Object(S.jsxs)("h1",{children:["Order: ",j._id]}),Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:8,children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Shipping"}),Object(S.jsx)("p",{children:Object(S.jsxs)("strong",{children:["Name: ",j.User.name]})}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Email: "}),Object(S.jsx)("a",{href:"mailto:".concat(j.User.username),children:j.User.username})]}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Shipping Address: "}),j.shippingAddress.address,", ",j.shippingAddress.city,","," ",j.shippingAddress.postalCode,","," ",j.shippingAddress.country]}),j.isDeliver?Object(S.jsxs)(et,{variant:"success",children:["Delivered on"," ",j.deliveredAt?j.deliveredAt.substring(0,10):null]}):Object(S.jsx)(et,{variant:"warning",children:"Not Delivered"})]}),Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Payment"}),Object(S.jsxs)("p",{children:[Object(S.jsx)("strong",{children:"Payment Method: "}),j.paymentMethod]}),j.isPaid?Object(S.jsxs)(et,{variant:"success",children:["Paid   ",j.paidAt?j.paidAt.substring(0,10):null]}):Object(S.jsx)(et,{variant:"warning",children:"Not Paid"})]}),Object(S.jsxs)(St.a.Item,{children:[Object(S.jsx)("h2",{children:"Order Items"}),0===j.orderItems.length?Object(S.jsx)(et,{variant:"info",children:"Order is empty"}):Object(S.jsx)(St.a,{variant:"flush",children:j.orderItems.map((function(e,t){return Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{md:1,children:Object(S.jsx)(rt.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(S.jsx)(Ue.a,{children:Object(S.jsx)(d.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(S.jsxs)(Ue.a,{md:4,children:[e.qty," X \u20b9",e.price," = \u20b9",(e.qty*e.price).toFixed(2)]})]})},t)}))})]})]})}),Object(S.jsx)(Ue.a,{md:4,children:Object(S.jsx)(wt.a,{children:Object(S.jsxs)(St.a,{variant:"flush",children:[Object(S.jsx)(St.a.Item,{children:Object(S.jsx)("h2",{children:"Order Summary"})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Products Cost:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",m]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Shipping:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",j.shippingPrice]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Tax:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",j.taxPrice]})]})}),Object(S.jsx)(St.a.Item,{children:Object(S.jsxs)(Te.a,{children:[Object(S.jsx)(Ue.a,{children:"Total:"}),Object(S.jsxs)(Ue.a,{children:["\u20b9",j.totalPrice]})]})}),!j.isPaid&&Object(S.jsxs)(St.a.Item,{children:[h&&Object(S.jsx)(Ve,{}),s?Object(S.jsx)(gr.PayPalButton,{amount:j.totalPrice,onSuccess:function(e){r(function(e,t){return function(){var r=Object(D.a)(P.a.mark((function r(n){var a;return P.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n(ar()),r.next=4,Yt.payOrder(e,t);case 4:a=r.sent,n(cr(a)),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(0),n(sr(r.t0.message));case 11:case"end":return r.stop()}}),r,null,[[0,8]])})));return function(e){return r.apply(this,arguments)}}()}(j._id,e)),console.log(j._id)}}):Object(S.jsx)(Ve,{})]})]})})})]})]})};var yr=function(){Object(i.b)();var e=Object(i.c)((function(e){return e.product.productList})),t=e.products;return e.loading,e.error,e.page,e.pages,Object(gt.useParams)().pageNumber,Object(S.jsxs)("div",{children:[Object(S.jsx)("div",{style:{padding:"8px",marginRight:"8px",marginBottom:"8px",borderRadius:"4px",border:"none",fontWeight:"normal",cursor:"pointer"},children:"Products"}),Object(S.jsx)(Te.a,{children:t.map((function(e){return Object(S.jsx)(Ue.a,{sm:12,md:6,lg:4,xl:3,children:Object(S.jsx)(Ke,{product:e})},e._id)}))})]})};var Sr=function(){return Object(S.jsxs)(d.HashRouter,{children:[Object(S.jsx)("div",{style:{position:"sticky",top:0,zIndex:"100"},children:Object(S.jsx)(te,{})}),Object(S.jsx)(o.a,{children:Object(S.jsxs)("main",{className:"py-3",children:[Object(S.jsx)(f.Route,{exact:!0,path:"/",component:vt}),Object(S.jsx)(f.Route,{path:"/page/:pageNumber",component:vt}),Object(S.jsx)(f.Route,{path:"/productcards",component:yr}),Object(S.jsx)(f.Route,{path:"/login",component:Mt}),Object(S.jsx)(f.Route,{path:"/register",component:Xt}),Object(S.jsx)(f.Route,{path:"/profile",component:pr}),Object(S.jsx)(f.Route,{path:"/shipping",component:xr}),Object(S.jsx)(f.Route,{path:"/payment",component:mr}),Object(S.jsx)(f.Route,{path:"/placeorder",component:fr}),Object(S.jsx)(f.Route,{path:"/orderDetail",component:vr}),Object(S.jsx)(f.Route,{path:"/product/:id",component:Tt}),Object(S.jsx)(f.Route,{path:"/cart/:id?",component:Ut})]})}),Object(S.jsx)(Ae,{})]})},wr=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,408)).then((function(t){var r=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),n(e),a(e),c(e),s(e)}))},Ir=(r(274),r(275),r(61)),kr=Object(Ir.b)({user:$,product:mt,order:dr,cart:At}),Cr=Object(L.a)({reducer:kr,devTools:"true"===Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_ENABLE_REDUX_DEV_TOOLS}),Pr=(i.c,Cr);s.a.render(Object(S.jsx)(i.a,{store:Pr,children:Object(S.jsx)(Sr,{})}),document.getElementById("root")),wr()}},[[276,1,2]]]);
//# sourceMappingURL=main.8a797e3f.chunk.js.map